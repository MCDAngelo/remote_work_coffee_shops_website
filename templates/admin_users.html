{% include "header.html" %}

<body>
  <div class="container" style="display:grid; grid-template-columns:1fr 3fr;">
    {% with active_page="users_page" %}
    {% include "admin_navbar.html"%}
    {% endwith %}


    <!-- <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4"> -->
    <div class="container grid-child">
      <h2 class="my-3">Registered Users</h2>
      {% with messages = get_flashed_messages() %}
      {% if messages %}
      {% for msg in messages %}
      <p style="color:green">{{ msg }}</p>
      {% endfor %}
      {% endif %}
      {% endwith %}

      <form method="post">
        <div class="table-responsive small">
          <table class="table table-striped table-sm">
            <thead>
              <tr>
                <th scope="col">User ID</th>
                <th scope="col">Email</th>
                <th scope="col">Username</th>
                <th scope="col">Admin</th>
              </tr>
            </thead>
            <tbody>
              {% for user in users %}
              <tr>
                <td>{{ user.id }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.username }}</td>
                <td><input class="form-check-input" type="checkbox" value="{{ user.id }}" name="make_admin" {% if
                    user.admin %} checked {% endif %}> </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
        <button type="submit" class="btn btn-success">Save Changes</button>
      </form>
    </div>
  </div>
</body {% include "footer.html" %}
